import{b as y}from"./index-410a2c51.js";import{f as N,h as f,g as A,r as _,o as v,i as g,w as r,e as o,d as s,t as T,u as h,_ as R}from"./app-037f133e.js";const I=N({__name:"ProTable",setup(P){const u=()=>new Promise(e=>{setTimeout(()=>{e({data:[{label:"测001",name:1},{label:"测002",name:2}]})},5e3)}),n=e=>(console.log(e),{...e,2:1}),i=e=>(console.log(e),e),m=e=>(console.log(e),new Promise((a,t)=>{setTimeout(()=>{a({pageNum:1,pageSize:10,total:6,data:[{lotteryActivityAwardId:1,awardName:{a:"测试1",b:"测试2"},winRate:1e3,totalNum:100,num:20,usedNum:10,status:1},{lotteryActivityAwardId:2,awardName:"奖品二",winRate:null,totalNum:100,num:20,usedNum:20,status:1},{lotteryActivityAwardId:3,awardName:"奖品三",winRate:1e3,totalNum:100,num:20,usedNum:30,status:1},{lotteryActivityAwardId:4,awardName:"奖品四",winRate:1e3,totalNum:100,num:20,usedNum:40,status:1},{lotteryActivityAwardId:5,awardName:"奖品五",winRate:1e3,totalNum:100,num:20,usedNum:50,status:0},{lotteryActivityAwardId:6,awardName:"奖品六",winRate:1e3,totalNum:100,num:20,usedNum:60,status:1}]})},3e3)})),d=(e,a,t)=>{setTimeout(()=>{t([{lotteryActivityAwardId:11,awardName:{a:"测试3",b:"测试4    "},winRate:1e3,totalNum:100,num:20,usedNum:20}])},5e3)},p=({row:e,rowIndex:a,column:t,columnIndex:l})=>{if(l===1)return a%2===0?{rowspan:2,colspan:1}:{rowspan:0,colspan:0}},c=f(null),b=A(()=>[{label:"",prop:"lotteryActivityAwardId",type:"selection"},{label:"序号",prop:"lotteryActivityAwardId"},{label:"奖品名",prop:"awardName",_children:[{label:"测试1",prop:"awardName.a",search:{el:"input"}},{label:"测试2",prop:"awardName.b",search:{el:"input"}}]},{label:"概率（总和100%）",prop:"winRate",formatter:e=>e.winRate!=null?e.winRate/100+"%":"未设置"},{label:"总数量",prop:"totalNum",search:{el:"select",defaultValue:1,props:{clearable:!0}},enum:()=>new Promise(e=>{setTimeout(()=>{e({data:[{label:"测001",value:1},{label:"测002",value:2}]})},5e3)}),isFilterEnum:!1},{label:"剩余数量",prop:"num",search:{el:"date-picker",props:{format:"YYYY-MM-DD HH:mm:ss",type:"datetimerange",defaultTime:[new Date("2020-01-1 00:00:00"),new Date("2020-01-1 23:59:59")]}}},{label:"抽取数量",prop:"usedNum",sortable:"custom"},{label:"状态",prop:"status",isTag:!0,enum:[{userLabel:"启用",userStatus:1,tagType:"success",label:"",value:""},{userLabel:"禁用",userStatus:0,tagType:"danger",label:"",value:""}],fieldNames:{label:"userLabel",value:"userStatus"}},{label:"操作",prop:"action"}]);return(e,a)=>{const t=_("el-button");return v(),g(h(y),{ref_key:"proTableRef",ref:c,columns:b.value,initParam:{winRate:100},tabs:{data:u},rowKey:"lotteryActivityAwardId","children-prop":{lazy:!0,load:d},"span-method":p,"request-api":m,beforeSearchSubmit:n,dataCallback:i},{tableHeader:r(({selectedListIds:l,selectedList:L,isSelected:w})=>[o(t,{type:"primary"},{default:r(()=>[s("导出报表")]),_:1}),o(t,{type:"primary",disabled:!w},{default:r(()=>[s("批量删除")]),_:2},1032,["disabled"])]),action:r(({row:l})=>[o(t,{link:"",type:"primary"},{default:r(()=>[s("编辑"+T(l.lotteryActivityAwardId),1)]),_:2},1024)]),_:1},8,["columns","tabs","children-prop"])}}}),C=R(I,[["__file","ProTable.vue"]]);export{C as default};

import{D as N}from"./vuedraggable.umd-aeebe76c.js";import{_ as w,r as i,o as s,c as d,e as n,w as l,d as f,F as p,i as g,b as u,N as h,j as v}from"./app-037f133e.js";const L={name:"Product",components:{Draggable:N},props:{data:{type:Object,default:()=>{}}},data(){return{list:{},productList:[],loading:!1,show:!1,selectItem:null,selectProduct:"",options:{originalPrice:"划线价",goodRatio:"好评率",volumeStr:"销量数"},loadingOption:!1}},mounted(){this.list=this.data;for(let o in this.options)this.data.options[o]==null&&this.$set(this.list.options,o,!0);this.loadingOption=!0},methods:{optionsChange(o,r){this.$set(this.list.options,o,r)},deleteItem(o){this.list.data.splice(o,1)},searchProductList(o){this.productList=S},confirm(){this.list.data.push(this.selectItem),this.close()},toggleSearchPopup(){this.show=!0},close(){this.show=!1,this.selectItem=null,this.selectProduct=""},addProduct(o){this.selectItem=o}}};var S=[{productId:3601,productName:"驼大大新疆正宗骆驼奶粉初乳骆驼乳粉蓝罐礼盒装120g*4罐",productImg:"https://img.quanminyanxuan.com/excel/f6860885547648d9996474bbf21fdca9.jpg",productPrice:299,originalPrice:598,volumeStr:"741",goodRatio:98},{productId:3268,productName:"百合28件套新骨质瓷餐具",productImg:"https://img.quanminyanxuan.com/excel/185e7365f65543f2b4ebc67036d6a78f.jpg",productPrice:370,originalPrice:1388,volumeStr:"400",goodRatio:99},{productId:3343,productName:"和商臻品槐花蜜250克/瓶",productImg:"https://img.quanminyanxuan.com/excel/4626c8c628d04935b0262d04991416b2.jpg",productPrice:34.5,originalPrice:72,volumeStr:"258",goodRatio:98},{productId:3330,productName:"鲍参翅肚浓羹350g袋装",productImg:"https://img.quanminyanxuan.com/excel/58a0c968dc7d42c3ac21e09d1862aa6f.jpg",productPrice:75,originalPrice:128,volumeStr:"258",goodRatio:98}];const j={class:"product-content"},R=u("p",{class:"tit"},[f("商品列表 "),u("span",null,"（可拖动排序）")],-1),q=u("i",{class:"el-icon-plus"},null,-1),B=["src"],D=["onClick"],O={class:"options"};function U(o,r,F,E,e,c){const b=i("el-button"),k=i("Draggable"),C=i("el-switch"),m=i("el-form-item"),P=i("el-form"),I=i("el-option"),x=i("el-select"),V=i("el-dialog");return s(),d("div",j,[R,n(b,{class:"add-btn",type:"primary",onClick:c.toggleSearchPopup},{default:l(()=>[q,f(" 添加商品")]),_:1},8,["onClick"]),e.list.data&&e.list.data.length>0?(s(),d(p,{key:0},[e.list.data&&e.list.data.length>0?(s(),g(k,{key:0,modelValue:e.list.data,"onUpdate:modelValue":r[0]||(r[0]=t=>e.list.data=t),tag:"ul",draggable:"li",class:"list"},{item:l(({element:t,index:a})=>[(s(),d("li",{class:"item",key:a},[u("img",{src:t.productImg},null,8,B),u("i",{class:"el-icon-error",onClick:y=>c.deleteItem(a)},null,8,D)]))]),_:1},8,["modelValue"])):h("v-if",!0)],64)):h("v-if",!0),u("div",O,[n(P,{"label-width":"80px"},{default:l(()=>[(s(!0),d(p,null,v(e.options,(t,a,y)=>(s(),d(p,null,[e.loadingOption?(s(),g(m,{label:t,key:y},{default:l(()=>[n(C,{modelValue:e.list.options[a],"onUpdate:modelValue":_=>e.list.options[a]=_,name:a,onChange:_=>c.optionsChange(a,_)},null,8,["modelValue","onUpdate:modelValue","name","onChange"])]),_:2},1032,["label"])):h("v-if",!0)],64))),256))]),_:1})]),n(V,{title:"添加商品","append-to-body":"",visible:e.show,onClose:c.close},{default:l(()=>[n(P,{"label-width":"100px"},{default:l(()=>[n(m,{label:"选择商品"},{default:l(()=>[n(x,{modelValue:e.selectProduct,"onUpdate:modelValue":r[1]||(r[1]=t=>e.selectProduct=t),filterable:"",remote:"","reserve-keyword":"",placeholder:"请输入商品名称","remote-method":c.searchProductList,onChange:c.addProduct,loading:e.loading},{default:l(()=>[(s(!0),d(p,null,v(e.productList,t=>(s(),g(I,{key:t.productId,label:t.productName,"value-key":t.productName,value:t},null,8,["label","value-key","value"]))),128))]),_:1},8,["modelValue","remote-method","onChange","loading"])]),_:1}),n(m,null,{default:l(()=>[n(b,{type:"primary",onClick:c.confirm},{default:l(()=>[f("确定")]),_:1},8,["onClick"])]),_:1})]),_:1})]),_:1},8,["visible","onClose"])])}const A=w(L,[["render",U],["__file","Product.vue"]]);export{A as default};
